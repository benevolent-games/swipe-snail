import { addMetaApi, declientizeApi } from "../../curries.js";
import { apiClient } from "../../api-client.js";
import { nuclearShape } from "./example-common.js";
export async function exampleClient() {
    const api = await apiClient({
        shape: nuclearShape,
        url: "http://localhost:8001",
    });
    const api2 = declientizeApi(async () => ({}), async (response) => response.result, api);
    const api3 = addMetaApi(async () => ({ accessToken: "a123" }), api2);
    // now consumers can call methods without the meta arg!
    api.reactor.generatePower;
    api2.reactor.generatePower;
    const result = await api3.reactor.generatePower(1, 2);
    console.log(result === 3 ? "✔ success" : "✘ failed");
    return api3;
}
//# sourceMappingURL=example-client.js.map